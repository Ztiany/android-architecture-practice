buildscript {
    apply from: './gradle/dependency.gradle'
    apply from: './gradle/configuration.gradle'

    repositories {
        //remote
        maven { url "https://maven.aliyun.com/repository/gradle-plugin" }
        maven { url "https://maven.aliyun.com/repository/google" }
        maven { url "https://dl.google.com/dl/android/maven2/" }
        maven { url "https://jitpack.io" }
        maven { url "https://kotlin.bintray.com/kotlinx" }
        google()
        mavenCentral()
        //local
        maven { url = uri("repo") }
    }

    dependencies {
        //android
        classpath "com.android.tools.build:gradle:7.0.4"
        //kotlin
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.0"
        //hilt
        classpath "com.google.dagger:hilt-android-gradle-plugin:$hilt_version"
        //navigation
        classpath "androidx.navigation:navigation-safe-args-gradle-plugin:$navigation_version"
        //channel
        classpath "com.leon.channel:plugin:2.0.3"
    }
}

allprojects {
    repositories {
        maven { url "https://maven.aliyun.com/repository/central" }
        maven { url "https://maven.aliyun.com/repository/public" }
        maven { url "https://maven.aliyun.com/repository/google" }
        maven { url "https://dl.google.com/dl/android/maven2/" }
        maven { url "https://www.jitpack.io" }
        maven { url "https://kotlin.bintray.com/kotlinx" }
        google()
        mavenCentral()
        maven { url "https://dl.bintray.com/umsdk/release" }

        configurations.all {
            resolutionStrategy.force(
                    AndroidLibraries.appcompat,
                    AndroidLibraries.activity,
                    AndroidLibraries.activityKtx,
                    AndroidLibraries.fragment,
                    AndroidLibraries.fragmentKtx,
                    AndroidLibraries.ktx,
                    AndroidLibraries.annotations,
                    KotlinLibraries.kotlinStdlib,
                    KotlinLibraries.kotlinCoroutines
            )
        }

    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}